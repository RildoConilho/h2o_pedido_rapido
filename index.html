<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>H2O Pedido R√°pido</title>

    <meta name="description" content="Pe√ßa sua √°gua da Distribuidora H2O de forma r√°pida e f√°cil com o app H2O Pedido R√°pido. Adicione √† sua tela inicial!">

    <link rel="manifest" href="manifest.json">

    <link rel="apple-touch-icon" href="icones/apple-icon-180.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="H2O √Ågua">

    <meta property="og:title" content="Distribuidora H2O: Pe√ßa sua √°gua pelo app!">
    <meta property="og:description" content="A forma mais pr√°tica de pedir √°gua da Distribuidora H2O! Baixe nosso app direto na sua tela inicial e fa√ßa seu pedido com poucos cliques.">
    <meta property="og:image" content="URL_DA_SUA_IMAGEM_DE_COMPARTILHAMENTO_AQUI">
    <meta property="og:url" content="https://h2opediraguafacil.netlify.app/">
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="H2O Pedido R√°pido">

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Distribuidora H2O: Pe√ßa sua √°gua pelo app!">
    <meta name="twitter:description" content="A forma mais pr√°tica de pedir √°gua da Distribuidora H2O! Baixe nosso app direto na sua tela inicial e fa√ßa seu pedido com poucos cliques.">
    <meta name="twitter:image" content="URL_DA_SUA_IMAGEM_DE_COMPARTILHAMENTO_AQUI">
    <meta name="theme-color" content="#00BFFF">
    <style>
        :root {
            --cor-primaria: #00BFFF;
            --cor-texto: #212529;
            --cor-texto-claro: #FFFFFF;
            --cor-fundo: #F8F9FA;
            --cor-fundo-cartao: #FFFFFF;
            --sombra-cartao: 0 4px 12px rgba(0, 0, 0, 0.1);
            --cor-texto-secundario: #6C757D;
            --cor-botao-hover: #0099CC;
            --cor-botao-instalar: #28a745;
            --cor-botao-instalar-hover: #218838;
            --cor-botao-notificacao: #ffc107;
            --cor-botao-notificacao-hover: #e0a800;
        }
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; line-height: 1.6; margin: 0; padding: 20px; background-color: var(--cor-fundo); color: var(--cor-texto); display: flex; flex-direction: column; align-items: center; text-align: center; min-height: 100vh; box-sizing: border-box; }
        .container-principal { background-color: var(--cor-fundo-cartao); padding: 25px; border-radius: 12px; box-shadow: var(--sombra-cartao); max-width: 400px; width: 100%; margin-top: 20px; margin-bottom: 20px; }
        .logo-h2o-img { max-width: 100px; height: auto; margin-bottom: 15px; }
        #saudacaoCliente { font-size: 1.6em; margin-bottom: 10px; color: var(--cor-primaria); font-weight: bold; text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.15); }
        h1 { font-size: 1.8em; color: var(--cor-texto); margin-top: 0; margin-bottom: 10px; }
        .slogan { font-size: 1em; color: var(--cor-texto-secundario); margin-bottom: 25px; }
        .btn { display: block; width: 100%; padding: 12px; font-size: 1em; font-weight: bold; text-decoration: none; border: none; border-radius: 8px; cursor: pointer; transition: background-color 0.2s ease; margin-bottom: 15px; box-sizing: border-box; }
        .btn-pedir-agua { padding: 15px; font-size: 1.2em; background-color: var(--cor-primaria); color: var(--cor-texto-claro); }
        .btn-pedir-agua:hover, .btn-pedir-agua:focus { background-color: var(--cor-botao-hover); }
        .btn-instalar-pwa { background-color: var(--cor-botao-instalar); color: var(--cor-texto-claro); }
        .btn-instalar-pwa:hover, .btn-instalar-pwa:focus { background-color: var(--cor-botao-instalar-hover); }
        .btn-agendar-lembrete { background-color: #6C757D; color: var(--cor-texto-claro); }
        .btn-agendar-lembrete:hover, .btn-agendar-lembrete:focus { background-color: #5a6268; }
        .btn-agendar-lembrete.ativado { background-color: #28a745; }
        .btn-agendar-lembrete.ativado:hover { background-color: #218838; }
        .btn-ativar-notificacao { background-color: var(--cor-botao-notificacao); color: var(--cor-texto); }
        .btn-ativar-notificacao:hover, .btn-ativar-notificacao:focus { background-color: var(--cor-botao-notificacao-hover); }
        .btn-ativar-notificacao.desativado { background-color: #6c757d; color: var(--cor-texto-claro); cursor: not-allowed; }
        #statusNotificacao { margin-top: 10px; padding: 10px; border-radius: 5px; display: none; font-size: 0.9em; }
        #statusNotificacao.sucesso { background-color: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
        #statusNotificacao.erro { background-color: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }
    </style>
</head>
<body>
    <div class="container-principal">
        <img src="https://st4.depositphotos.com/20523700/25934/i/380/depositphotos_259345310-stock-photo-illustration-h2o-icon.jpg" alt="Logo Distribuidora H2O" class="logo-h2o-img">
        <p id="saudacaoCliente"></p>
        <h1>Distribuidora de √Ågua H2O</h1>
        <p class="slogan">Pe√ßa sua √°gua de forma r√°pida e f√°cil!</p>
        <a href="https://wa.me/5517996512353?text=Ol%C3%A1!%20Gostaria%20de%20pedir%20%C3%A1gua.%20Quantidade%3A%20" class="btn btn-pedir-agua" target="_blank">
            üíß Pedir √Ågua Agora
        </a>
        <button id="btnInstalarApp" class="btn btn-instalar-pwa" style="display: none;">
            ‚≠ê Instalar Aplicativo
        </button>
        <button id="btnAtivarNotificacoes" class="btn btn-ativar-notificacao">
            üîî Ativar Lembretes (FCM)
        </button>
        <button id="btnAgendarLembreteLocal" class="btn btn-agendar-lembrete">
            ‚è∞ Agendar Lembrete de √Ågua
        </button>
        <div id="statusNotificacao"></div>
    </div>

    <script type="module">
        // Imports do Firebase SDK
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.8.1/firebase-app.js";
        import { getMessaging, getToken, onMessage } from "https://www.gstatic.com/firebasejs/11.8.1/firebase-messaging.js";

        // *** SUA NOVA E CORRETA CONFIGURA√á√ÉO DO FIREBASE ***
        const firebaseConfig = {
          apiKey: "AIzaSyCMnkyno22KbzIj6prAXtfDW2iTFPl-n84",
          authDomain: "h2o-pedido-rapido-pwa.firebaseapp.com",
          projectId: "h2o-pedido-rapido-pwa",
          storageBucket: "h2o-pedido-rapido-pwa.firebasestorage.app",
          messagingSenderId: "878082690218",
          appId: "1:878082690218:web:0f31add4553cf816c714d3"
        };
        
        // Sua chave VAPID p√∫blica
        const SUA_CHAVE_VAPID_PUBLICA = 'BPQ0g5ZOieblltRRP409nwYsFNvptMyB15T4_cS7E8GhKFVhjIPeGyZ56Xo0zm09zux5ZVt_7mPWRFtynJfRgQk';

        // Inicializa o Firebase
        const app = initializeApp(firebaseConfig);
        const messaging = getMessaging(app);

        // L√≥gica de sauda√ß√£o
        (function exibirSaudacaoDinamica() {
            const el = document.getElementById('saudacaoCliente');
            if (el) {
                const hora = new Date().getHours();
                if (hora >= 5 && hora < 12) { el.textContent = 'Bom dia!'; }
                else if (hora >= 12 && hora < 18) { el.textContent = 'Boa tarde!'; }
                else { el.textContent = 'Boa noite!'; }
            }
        })();

        // L√≥gica do Service Worker e Notifica√ß√µes...
        // (O restante do seu c√≥digo JavaScript continua aqui, sem altera√ß√µes)

    </script>
</body>
</html>